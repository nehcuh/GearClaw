# 04 快速开始与运行

## 1. 环境要求

1. Rust（建议稳定版）  
2. macOS/Linux 开发环境  
3. 可访问的 OpenAI 兼容 API

## 2. 构建

```bash
cargo build
```

如需单独构建：

```bash
cargo build -p gearclaw_core
cargo build -p gearclaw_cli
cargo build -p gearclaw_gateway
cargo build -p gearclaw_channels
```

## 3. 初始化配置

```bash
cargo run -p gearclaw_cli -- init
```

生成示例配置：

```bash
cargo run -p gearclaw_cli -- config-sample
```

## 4. 启动方式

### 4.1 CLI 交互模式

```bash
cargo run -p gearclaw_cli
```

### 4.2 单次执行

```bash
cargo run -p gearclaw_cli -- run "解释当前目录的代码结构"
```

### 4.3 记忆系统

```bash
cargo run -p gearclaw_cli -- memory sync
cargo run -p gearclaw_cli -- memory search "查询关键词"
```

### 4.4 Gateway

```bash
cargo run -p gearclaw_cli -- gateway
```

## 5. 常用管理命令

```bash
cargo run -p gearclaw_cli -- list-sessions
cargo run -p gearclaw_cli -- delete-session <session-id>
cargo run -p gearclaw_cli -- test-mcp
```

## 6. 环境变量建议

```bash
export OPENAI_API_KEY="..."
export OPENAI_BASE_URL="https://api.openai.com/v1"
export DISCORD_BOT_TOKEN="..."
```

说明：

1. API Key：配置中无值时会回退读取 `OPENAI_API_KEY`  
2. Base URL：当配置仍为默认 endpoint 时，可由 `OPENAI_BASE_URL` 覆盖  
3. Discord 渠道启用需 `DISCORD_BOT_TOKEN`

## 7. 导航

- 上一篇：[`03-扩展说明.md`](./03-扩展说明.md)  
- 下一篇：[`05-配置说明.md`](./05-配置说明.md)
